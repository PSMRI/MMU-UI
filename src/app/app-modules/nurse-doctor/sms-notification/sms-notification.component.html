<!-- <section class="container-fluid"> -->
  <!-- Title Bar -->
  <mat-toolbar>
    <span>Send Prescription to Beneficiary</span>
    <button    (click)="onClose()" class="close-btn">
      <mat-icon>cancel</mat-icon>
    </button>

  </mat-toolbar>

  <!-- Dialog Content -->
  <mat-dialog-content>
    <!-- Prescription Table -->
    <div class="table-responsive">

      <table class="mat-elevation-z4">
  <thead>
    <tr>
      <th>Prescription ID</th>
      <th>Diagnosis</th>
      <th>Drug</th>
      <th>Strength</th>
      <th>Frequency</th>
      <th>No. of Days</th>
      <th>Remarks</th>
    </tr>
  </thead>
  <tbody>
    <ng-container *ngFor="let prescription of data.prescription">
      <ng-container *ngFor="let p of prescription.prescribedDrugs; let i = index">
        <tr>
          <!-- Prescription ID only on first drug row -->
          <td *ngIf="i === 0" [attr.rowspan]="prescription.prescribedDrugs.length">
            {{ prescription.prescriptionID }}
          </td>

          <!-- Diagnosis only on first drug row -->
          <td *ngIf="i === 0" [attr.rowspan]="prescription.prescribedDrugs.length">
            {{ prescription.diagnosisProvided }}
          </td>

          <!-- Per-drug details -->
          <td>{{ p.drugName }}</td>
          <td>{{ p.dosage }}</td>
          <td>{{ p.frequency }}</td>
          <td>{{ p.noOfDays }}</td>

          <!-- Remarks only on first row -->
          <td *ngIf="i === 0" [attr.rowspan]="prescription.prescribedDrugs.length">
            {{ prescription.remarks }}
          </td>
        </tr>
      </ng-container>
    </ng-container>
  </tbody>
</table>

    </div>

    <!-- Pagination -->
    <mat-paginator [pageSize]="6" [pageSizeOptions]="[6, 10, 25]" showFirstLastButtons></mat-paginator>

    <!-- SMS Section -->
<div class="sms-section">
  <mat-checkbox color="primary" class="alt-checkbox" [(ngModel)]="altNum">
    {{ currentLanguageSet?.alternateNumber }}
  </mat-checkbox>

  <mat-form-field appearance="outline" *ngIf="altNum" class="alt-phone-field">
    <mat-label>{{ currentLanguageSet?.mobileNumber }}</mat-label>
    <!-- NOTE: removed inline padding style -->
    <input
      placeholder="{{ currentLanguageSet?.enterTenDigitMobileNumber }}"
      type="text"
      required
      minlength="10"
      maxlength="10"
      [(ngModel)]="mobileNumber"
      name="mobileNumber"
      #phnNum="ngModel"
      (keyup)="mobileNum(mobileNumber)"
      (keypress)="allowOnlyNumbers($event)"
      pattern="^[0-9]\d{9}$"
      inputmode="numeric"
    />
    <mat-error *ngIf="phnNum.invalid && phnNum.touched">
      {{ currentLanguageSet?.enterTenDigitMobileNumber }}
    </mat-error>
  </mat-form-field>
</div>



    <!-- Action Buttons -->
    <div class="action-row">
      <button
        mat-raised-button
        class="send-btn"
        (click)="sendSMS()"      >
        Send SMS
      </button>
    </div>
  </mat-dialog-content>
<!-- </section> -->
